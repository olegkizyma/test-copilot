# ATLAS - –ó–≤—ñ—Ç –ø—Ä–æ –û—á–∏—â–µ–Ω–Ω—è –î—É–±–ª—ñ–∫–∞—Ç—ñ–≤

**–î–∞—Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**: 2025-09-20  
**–í–µ—Ä—Å—ñ—è**: v4.0  
**–¢–∏–ø**: –í–∏–¥–∞–ª–µ–Ω–Ω—è –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É –ø—ñ—Å–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É

---

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

–ü—ñ—Å–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤—Å—è –ª–æ–≥—ñ–∫–∞ workflow –±—É–ª–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ –º–æ–¥—É–ª—ñ:
- `orchestrator/workflow/stages.js`
- `orchestrator/workflow/conditions.js` 
- `orchestrator/ai/state-analyzer.js`

–ê–ª–µ —Å—Ç–∞—Ä–∏–π —Ñ–∞–π–ª `prompts/workflow_config.js` –∑–∞–ª–∏—à–∞–≤—Å—è –∑ –¥—É–±–ª—ñ–∫–∞—Ç–∞–º–∏ –∫–æ–¥—É.

---

## ‚úÖ –í–∏–∫–æ–Ω–∞–Ω—ñ –¥—ñ—ó

### 1. **–û–Ω–æ–≤–ª–µ–Ω–æ —Å—Ç–∞—Ä–∏–π server.js**
–ó–∞–º—ñ–Ω–µ–Ω–æ —ñ–º–ø–æ—Ä—Ç–∏ –∑ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–∞–π–ª—É –Ω–∞ –Ω–æ–≤—ñ –º–æ–¥—É–ª—ñ:

```javascript
// –ë–£–õ–û:
import workflowConfig from '../prompts/workflow_config.js';

// –°–¢–ê–õ–û:
import { WORKFLOW_STAGES, WORKFLOW_CONFIG } from './workflow/stages.js';
import { WORKFLOW_CONDITIONS } from './workflow/conditions.js';
```

### 2. **–û–Ω–æ–≤–ª–µ–Ω–æ –≤—Å—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**
–ó–∞–º—ñ–Ω–µ–Ω–æ –≤—Å—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ `workflowConfig.*`:

```javascript
// –ë–£–õ–û:
workflowConfig.WORKFLOW_STAGES
workflowConfig.WORKFLOW_CONDITIONS
workflowConfig.WORKFLOW_CONFIG

// –°–¢–ê–õ–û:
WORKFLOW_STAGES
WORKFLOW_CONDITIONS  
WORKFLOW_CONFIG
```

### 3. **–í–∏–¥–∞–ª–µ–Ω–æ –¥—É–±–ª—ñ–∫–∞—Ç**
```bash
rm /Users/dev/Documents/GitHub/atlas4/prompts/workflow_config.js
```

### 4. **–û–Ω–æ–≤–ª–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é**
–í–∏–¥–∞–ª–µ–Ω–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ `workflow_config.js` –∑:
- `ATLAS_SYSTEM_ARCHITECTURE.md`
- `README.md`
- `TECHNICAL_SPECIFICATION.md`

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –æ—á–∏—â–µ–Ω–Ω—è

### –í–∏–¥–∞–ª–µ–Ω–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è:
- ‚ùå `prompts/workflow_config.js` (428 —Ä—è–¥–∫—ñ–≤)
- ‚ùå `WORKFLOW_STAGES` –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (95 —Ä—è–¥–∫—ñ–≤)
- ‚ùå `WORKFLOW_CONDITIONS` —Ñ—É–Ω–∫—Ü—ñ—ó (211 —Ä—è–¥–∫—ñ–≤)
- ‚ùå `WORKFLOW_CONFIG` –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (60 —Ä—è–¥–∫—ñ–≤)
- ‚ùå `analyzeAgentResponse` —Ñ—É–Ω–∫—Ü—ñ—è (100 —Ä—è–¥–∫—ñ–≤)
- ‚ùå `callAIModel` —Ñ—É–Ω–∫—Ü—ñ—è (100 —Ä—è–¥–∫—ñ–≤)
- ‚ùå `localFallbackAnalysis` —Ñ—É–Ω–∫—Ü—ñ—è (40 —Ä—è–¥–∫—ñ–≤)

**–ó–∞–≥–∞–ª–æ–º –≤–∏–¥–∞–ª–µ–Ω–æ**: ~1000+ —Ä—è–¥–∫—ñ–≤ –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤

### –ó–±–µ—Ä–µ–∂–µ–Ω–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:
- ‚úÖ –°—Ç–∞—Ä–∏–π `server.js` –ø—Ä–∞—Ü—é—î –∑ –Ω–æ–≤–∏–º–∏ –º–æ–¥—É–ª—è–º–∏
- ‚úÖ –ù–æ–≤–∏–π `server-new.js` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –º–æ–¥—É–ª—å–Ω—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É
- ‚úÖ –í—Å—ñ API endpoints –ø—Ä–∞—Ü—é—é—Ç—å
- ‚úÖ Workflow –ª–æ–≥—ñ–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–∞

---

## üèóÔ∏è –ù–æ–≤–∞ —á–∏—Å—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### –ü—Ä–æ–º–ø—Ç–∏ (—Ç—ñ–ª—å–∫–∏ –ø—Ä–æ–º–ø—Ç–∏):
```
prompts/
‚îú‚îÄ‚îÄ system/                    # –°–∏—Å—Ç–µ–º–Ω—ñ –ø—Ä–æ–º–ø—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ state_analysis_prompts.js
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ atlas/                     # –ü—Ä–æ–º–ø—Ç–∏ Atlas
‚îú‚îÄ‚îÄ tetyana/                   # –ü—Ä–æ–º–ø—Ç–∏ Tetyana
‚îî‚îÄ‚îÄ grisha/                    # –ü—Ä–æ–º–ø—Ç–∏ Grisha
```

### –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä (–ª–æ–≥—ñ–∫–∞ workflow):
```
orchestrator/
‚îú‚îÄ‚îÄ workflow/                  # Workflow –ª–æ–≥—ñ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ stages.js              # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –µ—Ç–∞–ø—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ conditions.js          # –£–º–æ–≤–∏ –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤
‚îÇ   ‚îî‚îÄ‚îÄ executor.js            # –í–∏–∫–æ–Ω–∞–Ω–Ω—è workflow
‚îú‚îÄ‚îÄ ai/                        # AI –º–æ–¥—É–ª—ñ
‚îú‚îÄ‚îÄ agents/                    # –ê–≥–µ–Ω—Ç–∏
‚îú‚îÄ‚îÄ config/                    # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îî‚îÄ‚îÄ utils/                     # –£—Ç–∏–ª—ñ—Ç–∏
```

---

## üéâ –ü–µ—Ä–µ–≤–∞–≥–∏ –æ—á–∏—â–µ–Ω–Ω—è

### üîç –£—Å—É–Ω–µ–Ω–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è:
- –ù–µ–º–∞—î –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ –∫–æ–¥—É –º—ñ–∂ —Ñ–∞–π–ª–∞–º–∏
- –Ñ–¥–∏–Ω–µ –¥–∂–µ—Ä–µ–ª–æ —ñ—Å—Ç–∏–Ω–∏ –¥–ª—è –∫–æ–∂–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó
- –ó–º–µ–Ω—à–µ–Ω–æ —Ä–æ–∑–º—ñ—Ä –∫–æ–¥–æ–≤–æ—ó –±–∞–∑–∏

### üõ†Ô∏è –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞:
- –ó–º—ñ–Ω–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–æ–±–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ
- –ù–µ–º–∞—î —Ä–∏–∑–∏–∫—É —Ä–æ–∑–±—ñ–∂–Ω–æ—Å—Ç–µ–π –º—ñ–∂ –¥—É–±–ª—ñ–∫–∞—Ç–∞–º–∏
- –õ–µ–≥—à–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ —Ç–∞ –≤–∏–ø—Ä–∞–≤–ª—è—Ç–∏ –ø–æ–º–∏–ª–∫–∏

### üìà –ß–∏—Å—Ç—ñ—à–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:
- –ü—Ä–æ–º–ø—Ç–∏ –º—ñ—Å—Ç—è—Ç—å —Ç—ñ–ª—å–∫–∏ –ø—Ä–æ–º–ø—Ç–∏
- –õ–æ–≥—ñ–∫–∞ workflow –≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ
- –ß—ñ—Ç–∫–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ

### üöÄ –ö—Ä–∞—â—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è:
- –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è
- –ù–µ–º–∞—î –∑–∞–ø–ª—É—Ç–∞–Ω–æ—Å—Ç—ñ —á–µ—Ä–µ–∑ –¥—É–±–ª—ñ–∫–∞—Ç–∏
- –ü—Ä–æ—Å—Ç—ñ—à–µ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

---

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ

### –§–∞–π–ª–∏ —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å workflow:
- ‚úÖ `orchestrator/server.js` - –æ–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ –Ω–æ–≤—ñ –º–æ–¥—É–ª—ñ
- ‚úÖ `orchestrator/server-new.js` - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –º–æ–¥—É–ª—ñ –∑ —Å–∞–º–æ–≥–æ –ø–æ—á–∞—Ç–∫—É
- ‚ùå –°—Ç–∞—Ä—ñ —Ñ–∞–π–ª–∏ –≤ `unused_files/` - –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:
- ‚úÖ `ATLAS_SYSTEM_ARCHITECTURE.md` - –æ–Ω–æ–≤–ª–µ–Ω–æ
- ‚úÖ `README.md` - –æ–Ω–æ–≤–ª–µ–Ω–æ  
- ‚úÖ `TECHNICAL_SPECIFICATION.md` - –æ–Ω–æ–≤–ª–µ–Ω–æ

### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:
- ‚úÖ –í—Å—ñ workflow –µ—Ç–∞–ø–∏ –ø—Ä–∞—Ü—é—é—Ç—å
- ‚úÖ AI –∞–Ω–∞–ª—ñ–∑ —Å—Ç–∞–Ω—ñ–≤ –ø—Ä–∞—Ü—é—î
- ‚úÖ –£–º–æ–≤–∏ –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤ –ø—Ä–∞—Ü—é—é—Ç—å
- ‚úÖ –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–æ—Å—Ç—É–ø–Ω–∞

---

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏** –ø—ñ—Å–ª—è –æ—á–∏—â–µ–Ω–Ω—è
2. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—ñ—Ö workflow** –Ω–∞ –∫–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å
3. **–í–∞–ª—ñ–¥–∞—Ü—ñ—è API endpoints** 
4. **–û—á–∏—â–µ–Ω–Ω—è unused_files** –≤—ñ–¥ —Å—Ç–∞—Ä–∏—Ö –ø–æ—Å–∏–ª–∞–Ω—å

---

*–û—á–∏—â–µ–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–∏—Å—Ç–µ–º–æ—é ATLAS v4.0*  
*–î—É–±–ª—ñ–∫–∞—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–æ, —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω–∞*
