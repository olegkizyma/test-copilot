# ATLAS 3-Agent Workflow - –ï—Ç–∞–ø–∏ –≤–∑–∞—î–º–æ–¥—ñ—ó

## –ù–æ–≤–∞ –ª–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏

**Atlas –ó–ê–í–ñ–î–ò –ø–æ—á–∏–Ω–∞—î –ø–µ—Ä—à–∏–º** - –ø–µ—Ä–µ—Ñ—Ä–∞–∑–æ–≤—É—î –∑–∞–ø–∏—Ç –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ç–∞ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ –∑—Ä–æ–∑—É–º—ñ–ª—ñ—à–∏–º –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.

**–ü–†–ò–†–û–î–ù–ï –°–ü–Ü–õ–ö–£–í–ê–ù–ù–Ø** - –∞–≥–µ–Ω—Ç–∏ —Å–ø—ñ–ª–∫—É—é—Ç—å—Å—è —è–∫ –∂–∏–≤—ñ –ª—é–¥–∏, –±–µ–∑ —Ñ–æ—Ä–º–∞–ª—å–Ω–∏—Ö —à–∞–±–ª–æ–Ω—ñ–≤ —Ç–∞ –µ–º–æ–¥–∑—ñ. –¢–µ—Ç—è–Ω–∞ –∑–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –ø—Ä—è–º–æ –¥–æ Atlas: "Atlas, –º–µ–Ω—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ —É—Ç–æ—á–Ω–∏—Ç–∏...", –∞ –ì—Ä–∏—à–∞ —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏.

## –ï—Ç–∞–ø–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

### üéØ –ï–¢–ê–ü 1: Atlas - –ü–æ—á–∞—Ç–∫–æ–≤–∞ –æ–±—Ä–æ–±–∫–∞
**–§–∞–π–ª:** `agent_prompts/atlas/stage1_initial_processing.js`
**–†–æ–ª—å:** –°—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–∏–π –∞–Ω–∞–ª—ñ—Ç–∏–∫ —Ç–∞ –ø–µ—Ä–µ—Ñ—Ä–∞–∑—É–≤–∞–ª—å–Ω–∏–∫
**–ó–∞–≤–¥–∞–Ω–Ω—è:**
- –ü–µ—Ä–µ—Ñ—Ä–∞–∑—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –∑—Ä–æ–∑—É–º—ñ–ª–æ—é –º–æ–≤–æ—é
- –ó—Ä–æ–±–∏—Ç–∏ –∑–∞–ø–∏—Ç –±—ñ–ª—å—à –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–º —Ç–∞ –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–º
- –í–∏–¥—ñ–ª–∏—Ç–∏ –∫–ª—é—á–æ–≤—ñ –≤–∏–º–æ–≥–∏ —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
- –ü–µ—Ä–µ–¥–±–∞—á–∏—Ç–∏ –º–æ–∂–ª–∏–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ –Ω–∞–¥–∞—Ç–∏ —Ä—ñ—à–µ–Ω–Ω—è –∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å

**–°—Ç–∏–ª—å —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è:**
–ü—Ä–∏—Ä–æ–¥–Ω–∏–π –¥—ñ–∞–ª–æ–≥ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É. –ó–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ –¢–µ—Ç—è–Ω–∏ –ø—Ä—è–º–æ: "–¢–µ—Ç—è–Ω–∞, –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏..." –ë–µ–∑ –µ–º–æ–¥–∑—ñ —Ç–∞ —Ñ–æ—Ä–º–∞–ª—å–Ω–∏—Ö —Ä–æ–∑–¥—ñ–ª—ñ–≤.

### ‚ö° –ï–¢–ê–ü 2: –¢–µ—Ç—è–Ω–∞ - –í–∏–∫–æ–Ω–∞–Ω–Ω—è
**–§–∞–π–ª:** `agent_prompts/tetyana/stage2_execution.js`
**–†–æ–ª—å:** –û—Å–Ω–æ–≤–Ω–∏–π –≤–∏–∫–æ–Ω–∞–≤–µ—Ü—å
**–ó–∞–≤–¥–∞–Ω–Ω—è:**
- –í–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è –≤—ñ–¥ Atlas –±—É–¥—å-—è–∫–∏–º –º–æ–∂–ª–∏–≤–∏–º —Å–ø–æ—Å–æ–±–æ–º
- –ù–ï –∑–≥–∞–¥—É–≤–∞—Ç–∏ –ø—Ä–æ —Ä–∏–∑–∏–∫–∏ –∞–±–æ –æ–±–º–µ–∂–µ–Ω–Ω—è
- –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ —É—Ç–æ—á–Ω–µ–Ω–Ω—è - –ö–û–ù–ö–†–ï–¢–ù–û —Å–∫–∞–∑–∞—Ç–∏ —â–æ —Å–∞–º–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ
- –û–¥—Ä–∞–∑—É –¥–æ–¥–∞–≤–∞—Ç–∏ —Å–≤–æ—ó –ø—Ä–∏–ø—É—â–µ–Ω–Ω—è –¥–ª—è –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏

**–°—Ç–∏–ª—å —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è:**
–ü—Ä–∏—Ä–æ–¥–Ω–∏–π –¥—ñ–∞–ª–æ–≥ –≤–∏–∫–æ–Ω–∞–≤—Ü—è. –ó–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ Atlas –∑–∞ —É—Ç–æ—á–Ω–µ–Ω–Ω—è–º–∏: "Atlas, —â–æ–± –≤–∏–∫–æ–Ω–∞—Ç–∏ —Ü–µ –∑–∞–≤–¥–∞–Ω–Ω—è —è–∫—ñ—Å–Ω–æ, –º–µ–Ω—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–∞—Ç–∏..." –ë–µ–∑ –µ–º–æ–¥–∑—ñ —Ç–∞ —Ñ–æ—Ä–º–∞–ª—å–Ω–∏—Ö —Ä–æ–∑–¥—ñ–ª—ñ–≤.

### üîç –ï–¢–ê–ü 3: Atlas - –£—Ç–æ—á–Ω–µ–Ω–Ω—è (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
**–§–∞–π–ª:** `agent_prompts/atlas/stage3_clarification.js`
**–†–æ–ª—å:** –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç —Ç–∞ —É—Ç–æ—á–Ω—é–≤–∞—á
**–£–º–æ–≤–∞:** –Ø–∫—â–æ –¢–µ—Ç—è–Ω–∞ –ø–æ—Ç—Ä–µ–±—É—î —É—Ç–æ—á–Ω–µ–Ω—å
**–ó–∞–≤–¥–∞–Ω–Ω—è:**
- –ê–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —â–æ —Å–∞–º–µ –ø–æ—Ç—Ä–µ–±—É—î –¢–µ—Ç—è–Ω–∞
- –ù–∞–¥–∞–≤–∞—Ç–∏ –ö–û–ù–ö–†–ï–¢–ù–Ü –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —Ç–∞ —Ä—ñ—à–µ–Ω–Ω—è
- –ù–ï –∑–∞–¥–∞–≤–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
- –†–æ–±–∏—Ç–∏ —Ä–æ–∑—É–º–Ω—ñ –ø—Ä–∏–ø—É—â–µ–Ω–Ω—è —Ç–∞ –¥–∞–≤–∞—Ç–∏ —á—ñ—Ç–∫—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó

**–§–æ—Ä–º–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:**
```
[ATLAS] 
üîç –ê–ù–ê–õ–Ü–ó: [—â–æ –ø–æ—Ç—Ä–µ–±—É—î –¢–µ—Ç—è–Ω–∞]
‚úÖ –†–Ü–®–ï–ù–ù–Ø: [–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ]
üìù –Ü–ù–°–¢–†–£–ö–¶–Ü–á: [–ø–æ–∫—Ä–æ–∫–æ–≤—ñ –¥—ñ—ó]
‚öôÔ∏è –ü–ê–†–ê–ú–ï–¢–†–ò: [–≤—Å—ñ –∑–Ω–∞—á–µ–Ω–Ω—è]
‚û°Ô∏è –ü–†–û–î–û–í–ñ–£–ô: [–∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –¢–µ—Ç—è–Ω–∏]
```

### üîÑ –ï–¢–ê–ü 4: –¢–µ—Ç—è–Ω–∞ - –ü–æ–≤—Ç–æ—Ä–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
**–§–∞–π–ª:** `agent_prompts/tetyana/stage4_retry.js`
**–†–æ–ª—å:** –í–∏–∫–æ–Ω–∞–≤–µ—Ü—å –∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏
**–£–º–æ–≤–∞:** –Ø–∫—â–æ Atlas –Ω–∞–¥–∞–≤ —É—Ç–æ—á–Ω–µ–Ω–Ω—è
**–ó–∞–≤–¥–∞–Ω–Ω—è:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –≤—Å—ñ —É—Ç–æ—á–Ω–µ–Ω–Ω—è –≤—ñ–¥ Atlas
- –í–∏–∫–æ–Ω–∞—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è –ø–æ–≤–Ω—ñ—Å—Ç—é –∑ –Ω–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏
- –ù–ï –ø—Ä–æ—Å–∏—Ç–∏ –±—ñ–ª—å—à–µ —É—Ç–æ—á–Ω–µ–Ω—å
- –î–æ–≤–µ—Å—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è –¥–æ –ª–æ–≥—ñ—á–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è

**–§–æ—Ä–º–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:**
```
[–¢–ï–¢–Ø–ù–ê]
‚úÖ –°–¢–ê–¢–£–°: [–í–∏–∫–æ–Ω–∞–Ω–æ/–ó–∞–≤–µ—Ä—à–µ–Ω–æ]
üîß –í–ò–ö–û–†–ò–°–¢–ê–ù–Ü –£–¢–û–ß–ù–ï–ù–ù–Ø: [—è–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–ª–∞]
‚ö° –í–ò–ö–û–ù–ê–ù–Ü –î–Ü–á: [–¥–µ—Ç–∞–ª—å–Ω–∏–π —Å–ø–∏—Å–æ–∫]
üìä –†–ï–ó–£–õ–¨–¢–ê–¢: [–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç]
üéØ –ü–ï–†–ï–í–Ü–†–ö–ê: [—è–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏]
üíØ –ì–û–¢–û–í–û: [–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è]
```

### üîç –ï–¢–ê–ü 6: –ì—Ä–∏—à–∞ - –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ (–ó–ê–í–ñ–î–ò)
**–§–∞–π–ª:** `agent_prompts/grisha/stage6_verification.js`
**–†–æ–ª—å:** –ù–µ–∑–∞–ª–µ–∂–Ω–∏–π –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ç–æ—Ä (–ù–ï –≤–∏–∫–æ–Ω–∞–≤–µ—Ü—å!)
**–£–º–æ–≤–∞:** –ü—ñ—Å–ª—è –±—É–¥—å-—è–∫–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
**–ó–∞–≤–¥–∞–Ω–Ω—è:**
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ —Å–ø—Ä–∞–≤–¥—ñ –≤–∏–∫–æ–Ω–∞–Ω–æ –∑–∞–≤–¥–∞–Ω–Ω—è
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –≤—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
- –î–∞—Ç–∏ —á–µ—Å–Ω—É –æ—Ü—ñ–Ω–∫—É: –≤–∏–∫–æ–Ω–∞–Ω–æ —á–∏ –ù–Ü
- –ù–Ü–ö–û–õ–ò –Ω–µ –¥–æ—Ä–æ–±–ª—è—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è —Å–∞–º–æ–º—É

**–í–ê–ñ–õ–ò–í–û:** –ì—Ä–∏—à–∞ —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—î! –Ø–∫—â–æ —â–æ—Å—å –Ω–µ –∑—Ä–æ–±–ª–µ–Ω–æ - –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –Ω–∞ –Ω–æ–≤–∏–π –∫—Ä—É–≥ –¥–æ Atlas —Ç–∞ –¢–µ—Ç—è–Ω–∏.

**–°—Ç–∏–ª—å —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è:**
–ü—Ä–∏—Ä–æ–¥–Ω–∏–π –¥—ñ–∞–ª–æ–≥ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞ —è–∫–æ—Å—Ç—ñ. –Ø–∫—â–æ –Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–æ - –∫–∞–∂–µ Atlas: "Atlas, –∑–∞–≤–¥–∞–Ω–Ω—è –Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–æ, –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ—Ä–æ–±–∏—Ç–∏..." –ë–µ–∑ –µ–º–æ–¥–∑—ñ —Ç–∞ —Ñ–æ—Ä–º–∞–ª—å–Ω–∏—Ö —Ä–æ–∑–¥—ñ–ª—ñ–≤.

## –ö–ª—é—á–æ–≤—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏

1. **Atlas –∑–∞–≤–∂–¥–∏ –ø–µ—Ä—à–∏–º** - –∫–æ–∂–µ–Ω –∑–∞–ø–∏—Ç –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ Atlas
2. **–ü—Ä–∏—Ä–æ–¥–Ω–µ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è** - –∞–≥–µ–Ω—Ç–∏ –≥–æ–≤–æ—Ä—è—Ç—å —è–∫ –∂–∏–≤—ñ –ª—é–¥–∏, –±–µ–∑ —à–∞–±–ª–æ–Ω—ñ–≤
3. **–ü—Ä—è–º–µ –∑–≤–µ—Ä—Ç–∞–Ω–Ω—è** - –¢–µ—Ç—è–Ω–∞ –∑–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ Atlas: "Atlas, –º–µ–Ω—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ..."
4. **–¢—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞** - –ì—Ä–∏—à–∞ –ù–ï –¥–æ—Ä–æ–±–ª—è—î, —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –Ω–∞ –Ω–æ–≤–∏–π –∫—Ä—É–≥
5. **–ë–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–∏–π —Ü–∏–∫–ª** - —è–∫—â–æ –ì—Ä–∏—à–∞ –Ω–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∏–≤ - Atlas –∫–æ–æ—Ä–¥–∏–Ω—É—î –Ω–æ–≤–∏–π —Ü–∏–∫–ª
6. **–í–∏–¥–∏–º—ñ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—É** - –∫–æ–∂–µ–Ω –µ—Ç–∞–ø –≤–∏–¥–Ω–æ —ñ —á—É—Ç–Ω–æ —á–µ—Ä–µ–∑ TTS

## –§–∞–π–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

- `agent_prompts/workflow_config.js` - –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –µ—Ç–∞–ø—ñ–≤ —Ç–∞ —É–º–æ–≤
- `frontend_new/orchestrator/server.js` - –û—Å–Ω–æ–≤–Ω–∏–π orchestrator –∑ –Ω–æ–≤–æ—é –ª–æ–≥—ñ–∫–æ—é

## API Endpoints

- `POST /chat/stream` - –û—Å–Ω–æ–≤–Ω–∏–π endpoint –∑ –Ω–æ–≤–∏–º workflow
- `GET /workflow` - –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –µ—Ç–∞–ø–∏ workflow
- `GET /agents` - –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∞–≥–µ–Ω—Ç—ñ–≤

## –ü—Ä–∏–∫–ª–∞–¥ —Ä–æ–±–æ—Ç–∏

1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–°—Ç–≤–æ—Ä–∏ —Ñ–∞–π–ª test.txt"
2. **Atlas (–ï—Ç–∞–ø 1):** –ü–µ—Ä–µ—Ñ—Ä–∞–∑–æ–≤—É—î - "–°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ñ–∞–π–ª test.txt –Ω–∞ —Ä–æ–±–æ—á–æ–º—É —Å—Ç–æ–ª—ñ –∑ –ø–æ—Ä–æ–∂–Ω—ñ–º –≤–º—ñ—Å—Ç–æ–º"
3. **–¢–µ—Ç—è–Ω–∞ (–ï—Ç–∞–ø 2):** "–ü–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–∞—Ç–∏: —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É, –∫–æ–¥—É–≤–∞–Ω–Ω—è, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É"
4. **Atlas (–ï—Ç–∞–ø 3):** "–®–ª—è—Ö: ~/Desktop/test.txt, –∫–æ–¥—É–≤–∞–Ω–Ω—è: UTF-8, –ø—Ä–∞–≤–∞: 644"
5. **–¢–µ—Ç—è–Ω–∞ (–ï—Ç–∞–ø 4):** "–§–∞–π–ª —Å—Ç–≤–æ—Ä–µ–Ω–æ –∑–∞ —à–ª—è—Ö–æ–º ~/Desktop/test.txt"
6. **–ó–∞–≤–µ—Ä—à–µ–Ω–æ** (–∞–±–æ –ì—Ä–∏—à–∞ –±–µ—Ä–µ –Ω–∞ —Å–µ–±–µ —è–∫—â–æ –ø—Ä–æ–±–ª–µ–º–∏)

–í—Å—ñ –µ—Ç–∞–ø–∏ –≤–∏–¥–∏–º—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É —Ç–∞ –æ–∑–≤—É—á—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ TTS —Å–∏—Å—Ç–µ–º—É.
