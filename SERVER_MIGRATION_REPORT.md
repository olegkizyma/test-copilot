# ATLAS - –ó–≤—ñ—Ç –ø—Ä–æ –ú—ñ–≥—Ä–∞—Ü—ñ—é –°–µ—Ä–≤–µ—Ä–∞

**–î–∞—Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**: 2025-09-20  
**–í–µ—Ä—Å—ñ—è**: v4.0  
**–¢–∏–ø**: –ó–∞–º—ñ–Ω–∞ –º–æ–Ω–æ–ª—ñ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –º–æ–¥—É–ª—å–Ω–∏–π

---

## üéØ –ú–µ—Ç–∞ –º—ñ–≥—Ä–∞—Ü—ñ—ó

–ó–∞–º—ñ–Ω–∞ —Å—Ç–∞—Ä–æ–≥–æ –º–æ–Ω–æ–ª—ñ—Ç–Ω–æ–≥–æ `server.js` (1175+ —Ä—è–¥–∫—ñ–≤) –Ω–∞ –Ω–æ–≤–∏–π –º–æ–¥—É–ª—å–Ω–∏–π —Å–µ—Ä–≤–µ—Ä –∑ —á–∏—Å—Ç–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é —Ç–∞ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è–º –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ.

---

## ‚úÖ –í–∏–∫–æ–Ω–∞–Ω—ñ –¥—ñ—ó

### 1. **–í–∏–¥–∞–ª–µ–Ω–æ —Å—Ç–∞—Ä–∏–π —Å–µ—Ä–≤–µ—Ä**
```bash
rm /Users/dev/Documents/GitHub/atlas4/orchestrator/server.js
```
- –í–∏–¥–∞–ª–µ–Ω–æ –º–æ–Ω–æ–ª—ñ—Ç–Ω–∏–π —Ñ–∞–π–ª –∑ 1175+ —Ä—è–¥–∫–∞–º–∏
- –£—Å—É–Ω–µ–Ω–æ –∑–∞—Å—Ç–∞—Ä—ñ–ª—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É
- –û—á–∏—â–µ–Ω–æ –≤—ñ–¥ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É

### 2. **–ê–∫—Ç–∏–≤–æ–≤–∞–Ω–æ –Ω–æ–≤–∏–π —Å–µ—Ä–≤–µ—Ä**
```bash
mv server-new.js server.js
```
- –ù–æ–≤–∏–π –º–æ–¥—É–ª—å–Ω–∏–π —Å–µ—Ä–≤–µ—Ä —Å—Ç–∞–≤ –æ—Å–Ω–æ–≤–Ω–∏–º
- –ß–∏—Å—Ç–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑ 190 —Ä—è–¥–∫–∞–º–∏
- –í—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –≤–∏–Ω–µ—Å–µ–Ω—ñ –≤ –º–æ–¥—É–ª—ñ

### 3. **–û–Ω–æ–≤–ª–µ–Ω–æ –º–µ—Ç–∞–¥–∞–Ω—ñ**
- –ó–º—ñ–Ω–µ–Ω–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∑ "REFACTORED" –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π
- –û–Ω–æ–≤–ª–µ–Ω–æ –≤–µ—Ä—Å—ñ—é –Ω–∞ "2.0-modular"
- –î–æ–¥–∞–Ω–æ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

---

## üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä—ñ–≤

### –°—Ç–∞—Ä–∏–π –º–æ–Ω–æ–ª—ñ—Ç–Ω–∏–π —Å–µ—Ä–≤–µ—Ä:
- **–†–æ–∑–º—ñ—Ä**: 1175+ —Ä—è–¥–∫—ñ–≤
- **–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞**: –ú–æ–Ω–æ–ª—ñ—Ç–Ω–∞
- **–õ–æ–≥—ñ–∫–∞**: –í—Å–µ –≤ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—ñ
- **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞**: –°–∫–ª–∞–¥–Ω–∞ —á–µ—Ä–µ–∑ —Ä–æ–∑–º—ñ—Ä
- **–î—É–±–ª—é–≤–∞–Ω–Ω—è**: –ë–∞–≥–∞—Ç–æ –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤

### –ù–æ–≤–∏–π –º–æ–¥—É–ª—å–Ω–∏–π —Å–µ—Ä–≤–µ—Ä:
- **–†–æ–∑–º—ñ—Ä**: 190 —Ä—è–¥–∫—ñ–≤
- **–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞**: –ú–æ–¥—É–ª—å–Ω–∞
- **–õ–æ–≥—ñ–∫–∞**: –†–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∞ –ø–æ –º–æ–¥—É–ª—è—Ö
- **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞**: –õ–µ–≥–∫–∞ –∑–∞–≤–¥—è–∫–∏ –º–æ–¥—É–ª—è–º
- **–î—É–±–ª—é–≤–∞–Ω–Ω—è**: –í—ñ–¥—Å—É—Ç–Ω—î

---

## üèóÔ∏è –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω–∏–π —Å–µ—Ä–≤–µ—Ä (190 —Ä—è–¥–∫—ñ–≤):
```javascript
// –¢—ñ–ª—å–∫–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—è —Ç–∞ API endpoints
import { AGENTS } from './config/agents.js';
import { WORKFLOW_STAGES, WORKFLOW_CONFIG } from './workflow/stages.js';
import { executeStepByStepWorkflow } from './workflow/executor.js';
import { chatCompletion, getAvailableModels } from './ai/fallback-llm.js';
```

### –ú–æ–¥—É–ª—ñ (—Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∞ –ª–æ–≥—ñ–∫–∞):
- **workflow/** - –í—Å—è –ª–æ–≥—ñ–∫–∞ workflow (3 —Ñ–∞–π–ª–∏)
- **ai/** - AI —Ñ—É–Ω–∫—Ü—ñ—ó —Ç–∞ fallback LLM (2 —Ñ–∞–π–ª–∏)
- **agents/** - Goose –∫–ª—ñ—î–Ω—Ç (1 —Ñ–∞–π–ª)
- **config/** - –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –∞–≥–µ–Ω—Ç—ñ–≤ (1 —Ñ–∞–π–ª)
- **utils/** - –î–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó (1 —Ñ–∞–π–ª)

---

## üöÄ –ü–µ—Ä–µ–≤–∞–≥–∏ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

### üîç –ß–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å:
- **190 —Ä—è–¥–∫—ñ–≤** –∑–∞–º—ñ—Å—Ç—å 1175+
- –¢—ñ–ª—å–∫–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—è —Ç–∞ API
- –ß—ñ—Ç–∫—ñ —ñ–º–ø–æ—Ä—Ç–∏ –º–æ–¥—É–ª—ñ–≤

### üõ†Ô∏è –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ—Å—Ç—å:
- –ö–æ–∂–µ–Ω –º–æ–¥—É–ª—å –º–∞—î —Å–≤–æ—é –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å
- –õ–µ–≥–∫–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ —Ç–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –∫–æ–¥
- –ù–µ–∑–∞–ª–µ–∂–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –º–æ–¥—É–ª—ñ–≤

### üìà –†–æ–∑—à–∏—Ä—é–≤–∞–Ω—ñ—Å—Ç—å:
- –ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–æ–¥–∞—é—Ç—å—Å—è –≤ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –º–æ–¥—É–ª—ñ
- –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –æ—Å–Ω–æ–≤–Ω–∏–π —Å–µ—Ä–≤–µ—Ä
- –ú–æ–¥—É–ª—ñ –º–æ–∂–Ω–∞ —Ä–æ–∑–≤–∏–≤–∞—Ç–∏ –Ω–µ–∑–∞–ª–µ–∂–Ω–æ

### üîß –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è:
- Fallback LLM —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π –≤ –æ—Å–Ω–æ–≤–Ω–∏–π —Å–µ—Ä–≤–µ—Ä
- –í—Å—ñ API endpoints –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ
- –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ—Å—ñ—è–º–∏

---

## üìã API Endpoints

### –ó–±–µ—Ä–µ–∂–µ–Ω—ñ –≤—Å—ñ endpoints:
- ‚úÖ `GET /health` - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º–∏ (–æ–Ω–æ–≤–ª–µ–Ω–æ)
- ‚úÖ `GET /agents` - –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∞–≥–µ–Ω—Ç—ñ–≤
- ‚úÖ `GET /workflow` - –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è workflow
- ‚úÖ `POST /chat/stream` - –û—Å–Ω–æ–≤–Ω–∏–π workflow
- ‚úÖ `POST /chat/confirm` - –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

### –î–æ–¥–∞–Ω—ñ –Ω–æ–≤—ñ endpoints:
- ‚úÖ `GET /v1/models` - Fallback LLM –º–æ–¥–µ–ª—ñ
- ‚úÖ `POST /v1/chat/completions` - Fallback LLM —á–∞—Ç

---

## üîÑ –°—É–º—ñ—Å–Ω—ñ—Å—Ç—å

### –ü–æ–≤–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å –∑ —ñ—Å–Ω—É—é—á–æ—é —Å–∏—Å—Ç–µ–º–æ—é:
- ‚úÖ –í—Å—ñ API endpoints –ø—Ä–∞—Ü—é—é—Ç—å
- ‚úÖ WebSocket —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑–±–µ—Ä–µ–∂–µ–Ω–∞
- ‚úÖ Session management –ø—Ä–∞—Ü—é—î
- ‚úÖ Workflow –ª–æ–≥—ñ–∫–∞ –Ω–µ–∑–º—ñ–Ω–Ω–∞
- ‚úÖ Goose —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î

### –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è:
- ‚úÖ –®–≤–∏–¥—à–∏–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –ú–µ–Ω—à–µ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ
- ‚úÖ –ö—Ä–∞—â—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- ‚úÖ –õ–µ–≥—à–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó

### –¢–µ—Ö–Ω—ñ—á–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:
- **–ó–º–µ–Ω—à–µ–Ω–æ —Ä–æ–∑–º—ñ—Ä** –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª—É –Ω–∞ 83% (1175 ‚Üí 190 —Ä—è–¥–∫—ñ–≤)
- **–£—Å—É–Ω–µ–Ω–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è** –∫–æ–¥—É –ø–æ–≤–Ω—ñ—Å—Ç—é
- **–ü–æ–∫—Ä–∞—â–µ–Ω–æ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å** –∑–∞–≤–¥—è–∫–∏ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—ñ
- **–°–ø—Ä–æ—â–µ–Ω–æ –ø—ñ–¥—Ç—Ä–∏–º–∫—É** —á–µ—Ä–µ–∑ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ

### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:
- **–Ü–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π Fallback LLM** –≤ –æ—Å–Ω–æ–≤–Ω–∏–π —Å–µ—Ä–≤–µ—Ä
- **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è** –∞–≥–µ–Ω—Ç—ñ–≤ —Ç–∞ workflow
- **–ü–æ–∫—Ä–∞—â–µ–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫** —á–µ—Ä–µ–∑ –º–æ–¥—É–ª—å–Ω—ñ—Å—Ç—å
- **–ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è** –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π

### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ –ø–µ—Ä–µ–≤–∞–≥–∏:
- **–ú–æ–¥—É–ª—å–Ω—ñ—Å—Ç—å** - –∫–æ–∂–µ–Ω –º–æ–¥—É–ª—å –º–∞—î —á—ñ—Ç–∫—É —Ä–æ–ª—å
- **–†–æ–∑—à–∏—Ä—é–≤–∞–Ω—ñ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –º–æ–¥—É–ª—ñ
- **–¢–µ—Å—Ç–æ–≤–∞–Ω—ñ—Å—Ç—å** - –º–æ–¥—É–ª—ñ –º–æ–∂–Ω–∞ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –Ω–µ–∑–∞–ª–µ–∂–Ω–æ
- **–ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ—Å—Ç—å** - –∑–º—ñ–Ω–∏ –ª–æ–∫–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –≤ –º–æ–¥—É–ª—è—Ö

---

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞** –Ω–∞ –≤—Å—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ—è—Ö
2. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ API endpoints** –Ω–∞ –∫–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å
3. **–í–∞–ª—ñ–¥–∞—Ü—ñ—è workflow** –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö
4. **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ** –Ω–æ–≤–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

---

*–ú—ñ–≥—Ä–∞—Ü—ñ—è –≤–∏–∫–æ–Ω–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–∏—Å—Ç–µ–º–æ—é ATLAS v4.0*  
*–°—Ç–∞—Ä–∏–π –º–æ–Ω–æ–ª—ñ—Ç–Ω–∏–π —Å–µ—Ä–≤–µ—Ä –∑–∞–º—ñ–Ω–µ–Ω–æ –Ω–∞ –º–æ–¥—É–ª—å–Ω–∏–π*  
*–ó–±–µ—Ä–µ–∂–µ–Ω–æ –≤—Å—é —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –∑ –ø–æ–∫—Ä–∞—â–µ–Ω–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é*
